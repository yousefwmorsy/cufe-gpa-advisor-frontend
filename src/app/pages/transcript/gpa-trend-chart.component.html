<div class="w-full flex justify-center items-center py-6">
  <svg [attr.width]="400" [attr.height]="220" class="bg-white rounded-lg shadow border border-gray-200" style="background:#f8f9fa;">
    <polyline
      [attr.points]="chartData.length ? getPolylinePoints() : '40,180'"
      fill="none"
      stroke="#a020f0"
      stroke-width="3"
      [attr.opacity]="chartData.length ? 1 : 0.3"
    />
    <ng-container *ngFor="let d of chartData; let i = index">
      <circle
        [attr.cx]="40 + i * 60"
        [attr.cy]="180 - d.gpa * 40"
        r="6"
        fill="#a020f0"
        (mouseenter)="hoverIdx = i"
        (mouseleave)="hoverIdx = null"
      />
      <text
        *ngIf="hoverIdx === i"
        [attr.x]="40 + i * 60"
        [attr.y]="180 - d.gpa * 40 - 16"
        text-anchor="middle"
        font-size="14"
        fill="#222"
        font-family="monospace"
        font-weight="bold"
      >{{ d.name }}: {{ d.gpa }}</text>
      <text
        [attr.x]="40 + i * 60"
        y="200"
        text-anchor="middle"
        font-size="12"
        fill="#555"
        font-family="monospace"
      >{{ d.name }}</text>
    </ng-container>
    <text x="10" y="30" font-size="16" fill="#222" font-family="monospace" font-weight="bold">GPA Trend</text>
    <text x="10" y="60" font-size="12" fill="#555" font-family="monospace">(Hover points for details)</text>
    <line x1="30" y1="180" x2="370" y2="180" stroke="#888" stroke-width="1" />
    <text x="10" y="185" font-size="12" fill="#555" font-family="monospace">0</text>
    <text x="10" y="140" font-size="12" fill="#555" font-family="monospace">1</text>
    <text x="10" y="100" font-size="12" fill="#555" font-family="monospace">2</text>
    <text x="10" y="60" font-size="12" fill="#555" font-family="monospace">3</text>
    <text x="10" y="20" font-size="12" fill="#555" font-family="monospace">4</text>
    <text *ngIf="!chartData.length" x="200" y="110" text-anchor="middle" font-size="16" fill="#a020f0" font-family="monospace" font-weight="bold">No GPA data yet</text>
  </svg>
</div>
